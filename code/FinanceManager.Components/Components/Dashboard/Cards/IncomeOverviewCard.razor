@using ApexCharts
@using FinanceManager.Domain.Entities
@using FinanceManager.Domain.Entities.Accounts
@using FinanceManager.Domain.Providers
@using FinanceManager.Domain.Repositories
@using FinanceManager.Domain.Extensions
@using FinanceManager.Domain.Repositories.Account
@using FinanceManager.Domain.Services
@using FinanceManager.Components.Helpers

<div class="card" style="height:@Height;">
    <div class="row m-0">
        <div class="card-body">
        <div class="container-fluid d-flex flex-column h-100 px-1">
            <div class="col px-0">
                <h5 class="card-title">Income</h5>
                <h6 class="card-subtitle mb-2 text-muted">@TotalIncome @currency</h6>
                </div>
            </div>
        </div>
    </div>

    <div class="row flex-fill" style="height: 1px;">
        <div class="h-100" style="position:relative; bottom:-2px">
            <ApexChart @ref="chart" TItem="SpendingOverviewEntry" Height="@("100%")" Options="options" XAxisType="XAxisType.Datetime">
                <ApexPointSeries TItem="SpendingOverviewEntry"
                                 Items="Data"
                                 Name="Income"
                                 XValue="@(e => e.Date.ToLocalTime())"
                                 YValue="e=> e.Value"
                                 SeriesType="SeriesType.Area" />
            </ApexChart>
        </div>
    </div>
</div>