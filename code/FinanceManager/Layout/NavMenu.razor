@using FinanceManager.Domain.Enums
<MudNavMenu Class="pt-2" >
    <AuthorizeView>
        <Authorized>
            @if (@context.User.IsInRole(UserRole.Admin.ToString()))
            {
                <MudNavLink Icon="@Icons.Material.Filled.Dashboard" href="Admin/Dashboard">Finance Manager</MudNavLink>
            }
            else if (@context.User.IsInRole(UserRole.User.ToString()))
            {
                <MudText Typo="Typo.h6" Class="px-4" Color="Color.Primary">FinanceManager</MudText>
                <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">@ApplicationVersion.Version</MudText>
            }
        </Authorized>
    </AuthorizeView>
    @if (Accounts is not null && Accounts.Any())
    {
        <MudDivider Class="my-2" />
        <MudNavLink Icon="@Icons.Material.Filled.Dashboard" href="">Dashboard</MudNavLink>
        if (_displayAssetsLink)
        {
            <MudNavLink Icon="@Icons.Material.Filled.TrendingUp" href="Assets">Assets</MudNavLink>
        }
        @if (_displayLiabilitiesLink)
        {
            <MudNavLink Icon="@Icons.Material.Filled.TrendingDown" href="Liabilities">Liabilities</MudNavLink>
        }
        <MudDivider Class="my-2" />
        <MudText Typo="Typo.h6" Class="px-4" Color="Color.Primary">Accounts</MudText>

        @foreach (var account in Accounts)
        {
            <MudNavLink Icon="@Icons.Material.Filled.Wallet" href="@($"AccountDetails/{account.Key}")">@account.Value</MudNavLink>
        }

        <MudNavLink Icon="@Icons.Material.Filled.Add" href="AddAccount">Add</MudNavLink>

        <AuthorizeView>
            <Authorized>
                @if (@context.User.IsInRole(UserRole.Admin.ToString()))
                {
                    <MudNavLink Icon="@Icons.Material.Filled.AdminPanelSettings" href="Admin/Dashboard">Admin page</MudNavLink>
                }
            </Authorized>
        </AuthorizeView>
    }
    
</MudNavMenu>