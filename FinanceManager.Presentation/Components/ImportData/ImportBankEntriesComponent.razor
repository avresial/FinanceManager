@using Microsoft.AspNetCore.Components.Forms

<MudContainer>
    <MudText Typo="Typo.h2">Import data to @AccountName account</MudText>

    <MudPaper>
        <MudStepper @bind-ActiveIndex="_index" OnPreviewInteraction="OnPreviewInteraction">
            <ChildContent>
                <MudStep Title="Select file" SecondaryText="Step1" @bind-Completed="_step1Complete">
                    <MudStack Style="width: 100%">

                    </MudStack>
                </MudStep>
                <MudStep Title="Validate" SecondaryText="Step2" @bind-Completed="_step2Complete" Disabled="@(_step1Complete == false)">

                    <MudGrid>

                    </MudGrid>
                </MudStep>
                <MudStep Title="Summary" SecondaryText="Step3" @bind-Completed="_step3Complete" Disabled="@(_step2Complete == false)">
                    <MudText Class="my-5" Typo="Typo.h5">Summary</MudText>
                    <MudStack Spacing="4" Class="my-3">

                    </MudStack>
                </MudStep>
            </ChildContent>

            <ActionContent Context="stepper">
                @if (_index != 2)
                {
                    <MudButton Color="Color.Error" Disabled="@(!LoadedFiles.Any())" OnClick="@Clear" Variant="Variant.Outlined">Clear</MudButton>
                    <MudSpacer />
                }
                @if (_index == 1)
                {
                    <MudButton @onclick=BeginImport Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto">Begin import</MudButton>
                }
                @if (_index == 2)
                {
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" href="@($"AccountDetails/{AccountName}")" Class="ml-auto">Go back to @AccountName</MudButton>
                }
            </ActionContent>
        </MudStepper>
    </MudPaper>

</MudContainer>

